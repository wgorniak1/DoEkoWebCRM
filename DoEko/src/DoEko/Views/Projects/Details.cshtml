@model DoEko.Models.DoEko.Project

@{
    ViewData["Title"] = "Szczegóły Projektu";
}

<!-- Navigation -->
<ol class="breadcrumb">
    <li><a asp-action="Index" asp-controller="Home">Str. Domowa</a></li>
    <li><a asp-action="Index" asp-controller="Projects">Lista Projektów</a></li>
    <li class="active">Projekt @Html.DisplayFor(model => model.ShortDescription)</li>
</ol>

<!--Title-->
<h2><small>Projekt</small> @Html.DisplayFor(model => model.ShortDescription)</h2>

<!--Panels-->
<div class="panel-group" id="panel-group"  role="tablist" aria-multiselectable="true">
    <div class="panel panel-default">
        <div class="panel-heading wg-panel-heading clearfix" role="tab" id="heading-details" data-toggle="collapse" data-parent="#panel-group" data-target="#details">
            <h4 class="panel-title pull-left" style="padding-top: 7.5px;">
                    Informacje szczegółowe
            </h4>
            <div class="btn-group pull-right">
                <a asp-action="Edit"
                   asp-controller="Projects"
                   asp-route-Id="@Model.ProjectId"
                   asp-route-ReturnUrl="@Url.Action("Details","Projects", new { Id = Model.ProjectId }, null,null,"details")"
                   class="btn btn-primary btn-sm">
                   <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                </a>
            </div>
        </div>
        <div id="details" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="heading-details">
            <div class="panel-body">
                @await Html.PartialAsync("ProjectDetailsPartial")
            </div>
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading wg-panel-heading clearfix" role="tab" id="heading-subprojects" data-toggle="collapse" data-parent="#panel-group" data-target="#subprojects">
            <h4 class="panel-title pull-left" style="padding-top:7.5px;">
                    Podprojekty
            </h4>
            <div class="btn-group pull-right">
                <a asp-action="Create"
                   asp-controller="Projects"
                   asp-route-ParentId="@Model.ProjectId"
                   asp-route-ReturnUrl="@Url.Action("Details","Projects", new { Id = Model.ProjectId }, null,null,"subprojects")"
                   class="btn btn-primary btn-sm">
                    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                </a>
            </div>
        </div>
        <div id="subprojects" class="panel-collapse collapse" role="tabpanel" aria-labelledby="header-subprojects">
@*          <div class="panel-body">*@
            @await Html.PartialAsync("ProjectListPartial")
        </div>
@*          </div>*@
    </div>
    <div class="panel panel-default">
        <div class="panel-heading wg-panel-heading clearfix" role="tab" id="heading-contracts" data-toggle="collapse" data-parent="#panel-group" data-target="#contracts">
            <h4 class="panel-title pull-left" style="padding-top:7.5px;">
                <a class="collapsed wg-link-nounderline" role="button" href="#contracts" aria-expanded="false" aria-controls="contracts">
                    Umowy
                </a>
            </h4>
            <div class="btn-group pull-right">
                <a asp-action="Create"
                   asp-controller="Contracts"
                   asp-route-ProjectId="@Model.ProjectId"
                   asp-route-ReturnUrl="@Url.Action("Details","Projects", new { Id = Model.ProjectId }, null,null,"contracts")"
                   class="btn btn-primary btn-sm">
                    <span class="glyphicon glyphicon-plus"></span>
                </a>
            </div>
        </div>
        <div id="contracts" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading-contracts">
            @await Html.PartialAsync("ProjectContractsListPartial", Model.Contracts)
        </div>
    </div>
</div>
