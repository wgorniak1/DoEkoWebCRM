@model DoEko.Models.DoEko.Contract

@{
    ViewData["Title"] = "Szczegóły Umowy";
}

<!-- Navigation -->
<ol class="breadcrumb">
    <li><a asp-action="Index" asp-controller="Home">Str. Domowa</a></li>
    <li><a asp-action="Index" asp-controller="Projects">Lista Projektów</a></li>
    <li><a asp-action="Details" asp-controller="Projects" asp-route-Id="@Model.ProjectId">Projekt @Html.DisplayFor(model => model.Project.ShortDescription)</a></li>
    <li class="active">Umowa @Html.DisplayFor(model => model.Number)</li>
</ol>

<!--Title-->
<h2><small>Umowa nr </small>@Html.DisplayFor(model => model.Number)</h2>

<!--Panels-->
<div class="panel-group" id="panel-group"  role="tablist" aria-multiselectable="true">
    <div class="panel panel-default">
        <div class="panel-heading wg-panel-heading" role="tab" id="heading-details" data-toggle="collapse" data-parent="#panel-group" data-target="#details">
            <div class="btn-group pull-right">
                <a asp-action="Edit"
                   asp-controller="Contracts"
                   asp-route-Id="@Model.ContractId"
                   asp-route-ReturnUrl="@Url.Action("Details","Contracts", new { Id = Model.ContractId }, null,null,"details")">
                   <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                </a>
            </div>
            <h4 class="panel-title">
                    Dane Umowy
            </h4>
        </div>
        <div id="details" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="heading-details">
            <div class="panel-body">
                @await Html.PartialAsync("_ContractDetailsPartial")
            </div>
        </div>
    </div>
    <div class="panel panel-info">
        <div class="panel-heading wg-panel-heading" role="tab" id="heading-subprojects" data-toggle="collapse" data-parent="#panel-group" data-target="#investments">
            <div class="btn-group pull-right">
                <a asp-action="Create"
                   asp-controller="Investments"
                   asp-route-ContractId="@Model.ContractId"
                   asp-route-ReturnUrl="@Url.Action("Details","Contracts", new { Id = Model.ContractId }, null,null,"subprojects")">
                    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                </a>
            </div>
            <h4 class="panel-title">
                <a class="collapsed wg-link-nounderline" role="button"  href="#subprojects" aria-expanded="false" aria-controls="subprojects">
                    Inwestycje
                </a>
            </h4>
        </div>
        <div id="investments" class="panel-collapse collapse" role="tabpanel" aria-labelledby="header-subprojects">
            @await Html.PartialAsync("_InvestmentListPartial",Model.Investments)
        </div>
    </div>
    @*<div class="panel panel-default">
        <div class="panel-heading wg-panel-heading" role="tab" id="heading-contracts" data-toggle="collapse" data-parent="#panel-group" data-target="#contracts">
            <div class="btn-group pull-right">
                <a asp-action="Create"
                   asp-controller="Contracts"
                   asp-route-ProjectId="@Model.ProjectId"
                   asp-route-ReturnUrl="@Url.Action("Details","Projects", new { Id = Model.ProjectId }, null,null,"contracts")">
                    <span class="glyphicon glyphicon-plus"></span>
                </a>
            </div>
            <h4 class="panel-title">
                <a class="collapsed wg-link-nounderline" role="button" href="#contracts" aria-expanded="false" aria-controls="contracts">
                    Umowy
                </a>
            </h4>
        </div>
        <div id="contracts" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading-contracts">
            @await Html.PartialAsync("ProjectContractsListPartial", Model.Contracts)
        </div>
    </div>*@
</div>
