$(document).ready(function(){var n="/api/v1/Investments/Neo?contractId="+$("#ContractId").val(),t=$("#InvestmentListTable").DataTable({ajax:{url:n,dataSrc:"",rowId:"investmentId"},columns:[{data:"address",name:"address",title:"Adres"},{data:"plotNumber",name:"plotNumber",title:"Nr działki"},{data:"status",name:"status",title:"Status"},{className:"none",data:"inspectionStatus",name:"inspectionStatus",title:"Status inspekcji"},{data:"calculate",name:"calculate",title:"Do weryfikacji"},{className:"none",data:"surveys",name:"surveys",title:"Źródła",render:function(n,t){var f,i,r,e,u;if(t!=="display")return n;if(f=n.length,i="",f>0)for(i='<div class="row">',i+='<div class="col-sm-3"><p class="control-label">Typ OZE<p><\/div>',i+='<div class="col-sm-4">Status<\/div>',i+='<div class="col-sm-3">Moc<\/div>',i+='<div class="col-sm-2">Policzone<\/div>',i+="<\/div>",r=0;r<f;r++)e=n[r].finalPower,i+='<div class="row">',i+='<div class="col-sm-3">'+n[r].rseType+"<\/div>",u=n[r].status,u=u.length>10?u.substring(0,9)+"...":u,i+='<div class="col-sm-4" title="'+n[r].status+'">'+u+"<\/div>",i+='<div class="col-sm-3">'+e.toFixed(2)+"<\/div>",i+='<div class="col-sm-2">'+n[r].isCompleted?"Tak":"Nie<\/div>",i+="<\/div>";return i}},{data:null,className:"all",name:"actions",title:"Akcje",orderable:!1,searchable:!1,type:"html",width:"100px",autoWidth:!1,visible:!0,render:function(n,t,i){var u=i.investmentId,r="";return r='<div class="pull-right">',r+='<a class="btn btn-sm btn-default" href="/Investment/Details/'+u+'">',r+='<span class="glyphicon glyphicon-eye-open"><\/span>',r+="<\/a>",r+"<\/div>"}}],stateSave:!0,pagingType:"full",language:{url:"/js/datatables-language-pl.json"},lengthMenu:[[5,10,25,50,-1],[5,10,25,50,"Wszystkie"]],order:[[0,"asc"]],processing:!0,dom:"<'row'<'col-sm-6'B><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-4'l><'col-sm-4'i><'col-sm-4'p>>",buttons:[{extend:"copyHtml5",text:'<span class="glyphicon glyphicon-copy"><\/span>',className:"btn text-primary",copySuccess:{1:"Skopiowano 1 rekord do schowka",_:"Skopiowano %d rekordów do schowka"},copyTitle:"Kopiowanie do schowka",copyKeys:"Naciśnij <i>ctrl<\/i> lub <i>⌘<\/i> + <i>C<\/i> aby skopiować tabelę<br>do schowka.<br><br>aby anulować, kliknij ten komunikat lub naciśnij ESC."},{extend:"csvHtml5",text:'<span class="glyphicon glyphicon-download-alt" title="Export do CSV"><\/span>',className:"btn text-primary",fieldSeparator:";",charset:"UTF-8"},{extend:"colvis",text:'<span class="glyphicon glyphicon-th-list" title="Pokaż / Ukryj kolumny"><\/span>',className:"btn text-primary"},{text:'<span class="text-primary glyphicon glyphicon-refresh" title="Odśwież zawartość"><\/span>',className:"btn",action:function(n,t){t.ajax.reload();t.rows().cells().invalidate().render()}},{text:'<span class="text-primary glyphicon glyphicon-download" title="Pobierz do weryfikacji"><\/span>',className:"btn",action:function(){var n="/Reports/SurveyToCSV?contractId="+$("#ContractId").val();window.open(n,"_blank")}}],select:!1,colReorder:{fixedColumnsRight:1},responsive:{details:{renderer:function(n,t,i){var r=$.map(i,function(n){return n.hidden?'<div class="row" data-dt-row="'+n.rowIndex+'" data-dt-column="'+n.columnIndex+'"><div class="col-sm-2">'+n.title+':<\/div> <div class="col-sm-10">'+n.data+"<\/div><\/div>":""}).join("");return r?r:!1}}},fixedHeader:{headerOffset:$("#NavBarMain").outerHeight()},drawCallback:function(){$("div#ContractListTable_processing").addClass("wg-loader")}})});