function WTCCreateFailed(n,t,i){WgTools.alert(i,!0,"E")}function WTCCreateCompleted(){WgTools.alert("Pomyślnie zapisano dane sekcji.",!0,"S")}$(document).ready(function(){var n=$("#WTCTable").DataTable({ajax:{url:"/api/WageTypeDefinitions",dataSrc:"",rowId:"wageTypeDefinitionId"},columns:[{data:"code",name:"code",title:"code"},{data:"shortDescription",name:"shortDescription",title:"shortDescription"},{data:"number",name:"number",title:"number"},{data:"unit",name:"unit",title:"unit"},{data:"rate",name:"rate",title:"rate"},{data:"amount",name:"amount",title:"amount"},{data:"currency",name:"currency",title:"currency"}],stateSave:!0,pagingType:"full",language:WgLanguage,lengthMenu:[[5,10,25,50,-1],[5,10,25,50,"Wszystkie"]],processing:!0,dom:"<'row'<'col-sm-6'B><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-4'l><'col-sm-4'i><'col-sm-4'p>>",buttons:[{text:'<span class="glyphicon glyphicon-plus" title="Nowy Składnik Wynagrodzenia"><\/span> Nowy',className:"btn",action:function(){$.get("WageTypeCatalog/Create").done(function(n){var i=null,t=null;$("#ModalSection").html(n);i=$("#WTCModal");i.modal({backdrop:"static",keyboard:!0});i.one("hide.bs.modal",function(){$("#WTCModal").modal("hide");$("body").removeClass("modal-open");$(".modal-backdrop").remove();$("#ModalSection").html("")});t=$("form",i);t.removeData("validator");t.removeData("unobtrusiveValidation");$.validator.unobtrusive.parse(t);t.data("validator").settings.ignore=".data-val-ignore, :hidden, :disabled";$(".wtc-btn-submit").on("click",function(){var n=$("#WTCModal form"),t;if(n.length!==0&&(n.validate({lang:"pl"}),n.valid())){t={};n.serializeArray().map(function(n){t[n.name]=n.value});var f=$('[name="WageTypeDefinitionId"]',n),r=n.type||"POST",u=n.action||"api/WageTypeDefinitions",i=$.ajax({url:u,type:r,contentType:"application/json",data:t});i.done(WTCCreateCompleted());i.fail(WTCCreateFailed())}});t.modal("show")})}}],fixedHeader:{headerOffset:$("#NavBarMain").outerHeight()}})});